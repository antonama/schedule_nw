<div class="rfe-schedule">
    <div class="row">
        <div class="input-field col s6">
            <select ng-model="selectedYear"
                    ng-options="year.number + ' year' for year in years"
                    class="browser-default"
                    ng-change="changeGroups(selectedYear)"></select>
        </div>
        <div class="input-field col s6">
            <select ng-model="selectedGroup"
                    ng-options="'Group ' + group.title for group in groups"
                    class="browser-default"
                    ng-change="downloadSchedule(selectedGroup)"></select>
        </div>
    </div>

    <div class="container">
        <div ng-repeat="day in schedule" class="row day">
            <span class="title">{{moment().day($index + 1).format('dddd')}}</span>
            <div ng-repeat="class in day" class="day-class"
                 data-drop="true"
                 data-jqyoui-options="{activeClass: 'drag-active', hoverClass: 'draggable-over', tolerance: 'pointer'}"
                 jqyoui-droppable="{onDrop: 'onDrop'}"
                 ng-model="class"
                 available-rooms="availableRooms"
                 available-rooms-on="class">
                <span ng-show="!class.title">{{$index + 1}}</span>
                <div ng-show="class.title" class="class-item row">
                    <div class="col s8">
                        <span>{{class.title}}</span>
                        <br/>
                        <span ng-show="class.type">{{::class.type}}, {{::class.lecturer.name.surname}} {{::class.lecturer.name.initials}}</span>
                    </div>
                    <div class="available-rooms col s4" ng-show="class.room">
                        <select ng-options="room.title for room in availableRooms"
                                ng-change="saveItem($parent.$index, $index, class)"
                                ng-model="class.room"
                                class="browser-default"></select>
                    </div>
                </div>
                <div class="remove-class" ng-click="removeClass(class)" ng-show="class.title">
                    <i class="mdi-action-highlight-remove"></i>
                </div>
            </div>
        </div>
    </div>
</div>

